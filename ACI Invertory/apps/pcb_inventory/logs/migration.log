2025-07-18 01:51:42,791 - INFO - Starting dockerized migration...
2025-07-18 01:51:42,791 - INFO - ================================================================================
2025-07-18 01:51:42,791 - INFO - STARTING DOCKERIZED STOCK AND PICK MIGRATION
2025-07-18 01:51:42,791 - INFO - ================================================================================
2025-07-18 01:51:42,791 - INFO - ============================================================
2025-07-18 01:51:42,791 - INFO - PHASE 1: DATABASE SETUP
2025-07-18 01:51:42,792 - INFO - ============================================================
2025-07-18 01:51:42,792 - INFO - Waiting for PostgreSQL to be ready...
2025-07-18 01:51:42,811 - INFO - ✓ PostgreSQL is ready
2025-07-18 01:51:42,811 - INFO - Creating database schema...
2025-07-18 01:51:42,811 - INFO - Running: Create schema and enums
2025-07-18 01:51:42,839 - INFO - Creating main inventory table...
2025-07-18 01:51:42,840 - INFO - Running: Create main inventory table
2025-07-18 01:51:42,862 - INFO - Creating audit table...
2025-07-18 01:51:42,862 - INFO - Running: Create audit table
2025-07-18 01:51:42,881 - INFO - ✓ Phase 1 completed in 0.09 seconds
2025-07-18 01:51:42,881 - INFO - ============================================================
2025-07-18 01:51:42,881 - INFO - PHASE 2: BUSINESS LOGIC
2025-07-18 01:51:42,881 - INFO - ============================================================
2025-07-18 01:51:42,881 - INFO - Creating update trigger function...
2025-07-18 01:51:42,881 - INFO - Running: Create update trigger
2025-07-18 01:51:42,915 - INFO - Creating audit trigger function...
2025-07-18 01:51:42,915 - INFO - Running: Create audit trigger
2025-07-18 01:51:42,953 - INFO - Creating stock_pcb function...
2025-07-18 01:51:42,953 - INFO - Running: Create stock_pcb function
2025-07-18 01:51:42,984 - INFO - Creating pick_pcb function...
2025-07-18 01:51:42,984 - INFO - Running: Create pick_pcb function
2025-07-18 01:51:43,018 - INFO - Creating views...
2025-07-18 01:51:43,018 - INFO - Running: Create views
2025-07-18 01:51:43,055 - INFO - ✓ Phase 2 completed in 0.17 seconds
2025-07-18 01:51:43,057 - INFO - ============================================================
2025-07-18 01:51:43,057 - INFO - PHASE 3: SAMPLE DATA & TESTING
2025-07-18 01:51:43,057 - INFO - ============================================================
2025-07-18 01:51:43,057 - INFO - Inserting sample data...
2025-07-18 01:51:43,057 - INFO - Running: Insert sample data
2025-07-18 01:51:43,091 - INFO - Testing stock_pcb function...
2025-07-18 01:51:43,091 - INFO - Running: Test stock_pcb function
2025-07-18 01:51:43,141 - INFO - Testing pick_pcb function...
2025-07-18 01:51:43,141 - INFO - Running: Test pick_pcb function
2025-07-18 01:51:43,195 - INFO - Testing views...
2025-07-18 01:51:43,195 - INFO - Running: Test current_inventory view
2025-07-18 01:51:43,233 - INFO - Testing audit log...
2025-07-18 01:51:43,233 - INFO - Running: Test audit log
2025-07-18 01:51:43,264 - INFO - ✓ Phase 3 completed in 0.21 seconds
2025-07-18 01:51:43,264 - INFO - ============================================================
2025-07-18 01:51:43,264 - INFO - PHASE 4: VALIDATION & REPORTING
2025-07-18 01:51:43,264 - INFO - ============================================================
2025-07-18 01:51:43,264 - INFO - Validating database schema...
2025-07-18 01:51:43,265 - INFO - Running: Validate schema tables
2025-07-18 01:51:43,309 - INFO - Found tables: ['inventory_audit', 'tblpcb_inventory', 'current_inventory', 'inventory_summary']
2025-07-18 01:51:43,309 - INFO - Checking data integrity...
2025-07-18 01:51:43,309 - INFO - Running: Total records
2025-07-18 01:51:43,340 - INFO - Running: Audit records
2025-07-18 01:51:43,371 - INFO - Running: PCB types
2025-07-18 01:51:43,404 - INFO - Running: Locations
2025-07-18 01:51:43,438 - INFO - Generating migration report...
2025-07-18 01:51:43,438 - INFO - Running: Get summary statistics
2025-07-18 01:51:43,472 - INFO - Database Summary:
2025-07-18 01:51:43,472 - INFO -   Total Items: 6
2025-07-18 01:51:43,472 - INFO -   Total Quantity: 410
2025-07-18 01:51:43,472 - INFO -   Unique Jobs: 5
2025-07-18 01:51:43,472 - INFO -   PCB Types: 4
2025-07-18 01:51:43,472 - INFO -   Locations: 4
2025-07-18 01:51:43,473 - INFO - ✓ Phase 4 completed in 0.21 seconds
2025-07-18 01:51:43,473 - INFO - Migration report saved: /app/analysis_output/dockerized_migration_report.json
2025-07-18 02:20:45,458 - INFO - Starting dockerized migration...
2025-07-18 02:20:45,458 - INFO - ================================================================================
2025-07-18 02:20:45,459 - INFO - STARTING DOCKERIZED STOCK AND PICK MIGRATION
2025-07-18 02:20:45,459 - INFO - ================================================================================
2025-07-18 02:20:45,459 - INFO - ============================================================
2025-07-18 02:20:45,459 - INFO - PHASE 1: DATABASE SETUP
2025-07-18 02:20:45,459 - INFO - ============================================================
2025-07-18 02:20:45,459 - INFO - Waiting for PostgreSQL to be ready...
2025-07-18 02:20:45,481 - INFO - ✓ PostgreSQL is ready
2025-07-18 02:20:45,481 - INFO - Creating database schema...
2025-07-18 02:20:45,481 - INFO - Running: Create schema and enums
2025-07-18 02:20:45,511 - INFO - Creating main inventory table...
2025-07-18 02:20:45,511 - INFO - Running: Create main inventory table
2025-07-18 02:20:45,536 - INFO - Creating audit table...
2025-07-18 02:20:45,536 - INFO - Running: Create audit table
2025-07-18 02:20:45,558 - INFO - ✓ Phase 1 completed in 0.10 seconds
2025-07-18 02:20:45,558 - INFO - ============================================================
2025-07-18 02:20:45,558 - INFO - PHASE 2: BUSINESS LOGIC
2025-07-18 02:20:45,558 - INFO - ============================================================
2025-07-18 02:20:45,559 - INFO - Creating update trigger function...
2025-07-18 02:20:45,559 - INFO - Running: Create update trigger
2025-07-18 02:20:45,597 - INFO - Creating audit trigger function...
2025-07-18 02:20:45,597 - INFO - Running: Create audit trigger
2025-07-18 02:20:45,634 - INFO - Creating stock_pcb function...
2025-07-18 02:20:45,634 - INFO - Running: Create stock_pcb function
2025-07-18 02:20:45,670 - INFO - Creating pick_pcb function...
2025-07-18 02:20:45,670 - INFO - Running: Create pick_pcb function
2025-07-18 02:20:45,705 - INFO - Creating views...
2025-07-18 02:20:45,705 - INFO - Running: Create views
2025-07-18 02:20:45,746 - INFO - ✓ Phase 2 completed in 0.19 seconds
2025-07-18 02:20:45,746 - INFO - ============================================================
2025-07-18 02:20:45,746 - INFO - PHASE 3: SAMPLE DATA & TESTING
2025-07-18 02:20:45,746 - INFO - ============================================================
2025-07-18 02:20:45,746 - INFO - Inserting sample data...
2025-07-18 02:20:45,746 - INFO - Running: Insert sample data
2025-07-18 02:20:45,783 - INFO - Testing stock_pcb function...
2025-07-18 02:20:45,783 - INFO - Running: Test stock_pcb function
2025-07-18 02:20:45,841 - INFO - Testing pick_pcb function...
2025-07-18 02:20:45,841 - INFO - Running: Test pick_pcb function
2025-07-18 02:20:45,901 - INFO - Testing views...
2025-07-18 02:20:45,901 - INFO - Running: Test current_inventory view
2025-07-18 02:20:45,944 - INFO - Testing audit log...
2025-07-18 02:20:45,944 - INFO - Running: Test audit log
2025-07-18 02:20:45,978 - INFO - ✓ Phase 3 completed in 0.23 seconds
2025-07-18 02:20:45,978 - INFO - ============================================================
2025-07-18 02:20:45,978 - INFO - PHASE 4: VALIDATION & REPORTING
2025-07-18 02:20:45,978 - INFO - ============================================================
2025-07-18 02:20:45,978 - INFO - Validating database schema...
2025-07-18 02:20:45,978 - INFO - Running: Validate schema tables
2025-07-18 02:20:46,030 - INFO - Found tables: ['inventory_audit', 'tblpcb_inventory', 'current_inventory', 'inventory_summary']
2025-07-18 02:20:46,030 - INFO - Checking data integrity...
2025-07-18 02:20:46,030 - INFO - Running: Total records
2025-07-18 02:20:46,064 - INFO - Running: Audit records
2025-07-18 02:20:46,098 - INFO - Running: PCB types
2025-07-18 02:20:46,136 - INFO - Running: Locations
2025-07-18 02:20:46,173 - INFO - Generating migration report...
2025-07-18 02:20:46,175 - INFO - Running: Get summary statistics
2025-07-18 02:20:46,213 - INFO - Database Summary:
2025-07-18 02:20:46,213 - INFO -   Total Items: 6
2025-07-18 02:20:46,213 - INFO -   Total Quantity: 410
2025-07-18 02:20:46,213 - INFO -   Unique Jobs: 5
2025-07-18 02:20:46,213 - INFO -   PCB Types: 4
2025-07-18 02:20:46,213 - INFO -   Locations: 4
2025-07-18 02:20:46,213 - INFO - ✓ Phase 4 completed in 0.24 seconds
2025-07-18 02:20:46,214 - INFO - Migration report saved: /app/analysis_output/dockerized_migration_report.json
